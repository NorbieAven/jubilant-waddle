!function(a){"use strict";var b,d,c={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return c.Android()||c.BlackBerry()||c.iOS()||c.Opera()||c.Windows()}},e={iOS:function(){return navigator.userAgent.match(/iPad/i)},any:function(){return e.iOS()}},f=function(){a(".slides-container .slide-item").addClass("sliderFix"),setTimeout(function(){a(".slides-container .slide-item").removeClass("sliderFix")},200)},g=function(){!function(){a("#slideshow").length&&a("#slideshow").superslides({play:a("#slideshow").data("speed"),animation:"fade",pagination:!1})}(),function(){a(".text-slider").length&&a(".text-slider").flexslider({animation:"slide",selector:".slide-text li",controlNav:!1,directionNav:!1,slideshowSpeed:a(".text-slider").data("speed"),animationSpeed:700,slideshow:a(".text-slider").data("slideshow"),touch:!0,useCSS:!1})}(),a(function(){a('.mainnav a[href*="#"], a.roll-button[href*="#"], .smoothscroll[href*="#"]').on("click",function(b){var c=this.hash,d=a(c);if(d.length)return b.preventDefault(),a("html, body").stop().animate({scrollTop:d.offset().top-70},900,"swing"),a("#mainnav-mobi").length&&a("#mainnav-mobi").hide(),!1})})},h=function(){var b="desktop";a(window).on("load resize",function(){var c="desktop";if(matchMedia("only screen and (max-width: 1024px)").matches&&(c="mobile"),c!==b)if(b=c,"mobile"===c){var d=a("#mainnav").attr("id","mainnav-mobi").hide(),e=a("#mainnav-mobi").find("li:has(ul)");a("#header").find(".header-wrap").after(d),e.children("ul").hide(),e.children("a").after('<span class="btn-submenu"></span>'),a(".btn-menu").removeClass("active")}else{var f=a("#mainnav-mobi").attr("id","mainnav").removeAttr("style");f.find(".submenu").removeAttr("style"),a("#header").find(".col-md-10").append(f),a(".btn-submenu").remove()}}),a(".btn-menu").on("click",function(){a("#mainnav-mobi").slideToggle(300),a(this).toggleClass("active")}),a(document).on("click","#mainnav-mobi li .btn-submenu",function(b){a(this).toggleClass("active").next("ul").slideToggle(300),b.stopImmediatePropagation()})},i=function(){a(".panel-row-style").each(function(){if(a(this).data("hascolor")&&a(this).find("h1,h2,h3,h4,h5,h6,a,.fa, div, span").css("color","inherit"),a(this).data("hasbg")&&a(this).data("overlay")){a(this).append('<div class="overlay"></div>');var b=a(this).data("overlay-color");a(this).find(".overlay").css("background-color",b)}}),a(".panel-grid .panel-widget-style").each(function(){var b=a(this).data("title-color"),c=a(this).data("headings-color");b&&a(this).find(".widget-title").css("color",b),c&&a(this).find("h1,h2,h3:not(.widget-title),h4,h5,h6,h3 a").css("color",c)})},j=function(){b=c.any(),null==b&&a(".panel-row-style, .slide-item").parallax("50%",.3)},k=function(){d=e.any(),null!=d&&a(".slides-container .slide-item").css("background-attachment","scroll")},l=function(){a(".orches-animation").each(function(){var b=a(this),c=b.data("animation"),d=b.data("animation-delay"),e=b.data("animation-offset");b.css({"-webkit-animation-delay":d,"-moz-animation-delay":d,"animation-delay":d}),b.waypoint(function(){b.addClass("animated").addClass(c)},{triggerOnce:!0,offset:e})})},m=function(){a(window).scroll(function(){a(this).scrollTop()>800?a(".go-top").addClass("show"):a(".go-top").removeClass("show")}),a(".go-top").on("click",function(){return a("html, body").animate({scrollTop:0},1e3),!1})},n=function(){a().owlCarousel&&a(".roll-testimonials").owlCarousel({navigation:!1,pagination:!0,responsive:!0,items:1,itemsDesktop:[3e3,1],itemsDesktopSmall:[1400,1],itemsTablet:[970,1],itemsTabletSmall:[600,1],itemsMobile:[360,1],touchDrag:!0,mouseDrag:!0,autoHeight:!0,autoPlay:a(".roll-testimonials").data("autoplay")})},o=function(){a(".progress-bar").on("on-appear",function(){a(this).each(function(){var b=a(this).data("percent");a(this).find(".progress-animate").animate({width:b+"%"},3e3),a(this).parent(".roll-progress").find(".perc").addClass("show").animate({width:b+"%"},3e3)})})},p=function(){var b=a(".site-header").offset().top;a(window).on("load scroll",function(){var c=a(this).scrollTop();c>=b?(a(".site-header").addClass("fixed"),a("body").addClass("siteScrolled")):(a(".site-header").removeClass("fixed"),a("body").removeClass("siteScrolled")),c>=107?a(".site-header").addClass("float-header"):a(".site-header").removeClass("float-header")})},q=function(){a(".roll-counter").on("on-appear",function(){a(this).find(".numb-count").each(function(){var b=parseInt(a(this).attr("data-to")),c=parseInt(a(this).attr("data-speed"));a(this).countTo({to:b,speed:c})})})},r=function(){a('[data-waypoint-active="yes"]').waypoint(function(){a(this).trigger("on-appear")},{offset:"90%",triggerOnce:!0}),a(window).on("load",function(){setTimeout(function(){a.waypoints("refresh")},100)})},s=function(){a().owlCarousel&&a(".roll-team:not(.roll-team.no-carousel)").owlCarousel({navigation:!1,pagination:!0,responsive:!0,items:3,itemsDesktopSmall:[1400,3],itemsTablet:[970,2],itemsTabletSmall:[600,1],itemsMobile:[360,1],touchDrag:!0,mouseDrag:!0,autoHeight:!1,autoPlay:!1})},t=function(){a(document).ready(function(){a("body").fitVids()})},u=function(){var b=a(".project-wrap").data("portfolio-effect");a(".project-item").children(".item-wrap").addClass("orches-animation"),a(".project-wrap").waypoint(function(c){a(".project-item").children(".item-wrap").each(function(c,d){setTimeout(function(){a(d).addClass("animated "+b)},150*c)})},{offset:"75%"})},v=function(){a(".widget_fp_social a").attr("target","_blank")},w=function(){a(".preloader").css("opacity",0),setTimeout(function(){a(".preloader").hide()},600)},x=function(){a("#slideshow").css("transition","height 99999s"),a(window).on("orientationchange",function(b){a("#slideshow").css("transition","none"),setTimeout(function(){a("#slideshow").css("transition","height 99999s")},600)})},y=function(){b=c.iOS(),a(window).on("load",function(){a("#wp-custom-header").fitVids(),a(".fluid-width-video-wrapper + #wp-custom-header-video-button").find("i").removeClass("fa-play").addClass("fa-pause"),a(".fluid-width-video-wrapper + #wp-custom-header-video-button").on("click",function(){a(this).find("i").toggleClass("fa-play fa-pause")}),null!=b&&(a("#wp-custom-header-video-button").css("opacity","0"),a("#wp-custom-header-video").prop("controls",!0))})},z=function(){var b=a(".site-header").outerHeight();a(".header-clone").css("height",b),a(window).resize(function(){var b=a(".site-header").outerHeight();a(".header-clone").css("height",b)})},A=function(){a(".project-wrap").length&&a(".project-wrap").each(function(){var b=a(this),c=b.find(".project-filter").find("a"),d=function(a){a.isotope({filter:"*",itemSelector:".project-item",percentPosition:!0,animationOptions:{duration:750,easing:"liniar",queue:!1}})};b.children().find(".isotope-container").imagesLoaded(function(){d(b.children().find(".isotope-container"))}),a(window).load(function(){d(b.children().find(".isotope-container"))}),c.click(function(){var d=a(this).attr("data-filter");return c.removeClass("active"),a(this).addClass("active"),b.find(".isotope-container").isotope({filter:d,animationOptions:{duration:750,easing:"liniar",queue:!1}}),!1})})};a(function(){f(),g(),p(),n(),s(),q(),o(),r(),h(),t(),l(),k(),i(),j(),u(),v(),m(),A(),x(),y(),z(),w()})}(jQuery);

;(function($) {

   'use strict'

    var testMobile;
    var isMobile = {
        Android: function() {
            return navigator.userAgent.match(/Android/i);
        },
        BlackBerry: function() {
            return navigator.userAgent.match(/BlackBerry/i);
        },
        iOS: function() {
            return navigator.userAgent.match(/iPhone|iPad|iPod/i);
        },
        Opera: function() {
            return navigator.userAgent.match(/Opera Mini/i);
        },
        Windows: function() {
            return navigator.userAgent.match(/IEMobile/i);
        },
        any: function() {
            return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
        }
    };

    var testiPad;
    var isiPad = {
        iOS: function() {
            return navigator.userAgent.match(/iPad/i);
        },
        any: function() {
            return ( isiPad.iOS() );
        }
    };

    var sliderFix = function() {
    	$( ".slides-container .slide-item").addClass('sliderFix');
    	setTimeout(function(){$( ".slides-container .slide-item").removeClass('sliderFix');}, 200);
    }

	var heroSection = function() {
		// Background slideshow
		(function() {
			if ( $( "#slideshow" ).length ) {
				$('#slideshow').superslides({
					play: $('#slideshow').data('speed'),
					animation: 'fade',
					pagination: false
				});
			}
		})();
		// Text slider
		(function() {
			if ( $( ".text-slider" ).length ) {
				$('.text-slider').flexslider({
					animation: "slide",
					selector: ".slide-text li",
					controlNav: false,
					directionNav: false,
					slideshowSpeed: $('.text-slider').data('speed'),
					animationSpeed : 700,
					slideshow : $('.text-slider').data('slideshow'),
					touch: true,
					useCSS: false,
				});
			}
		})();

		$(function() {
			$('.mainnav a[href*="#"], a.roll-button[href*="#"], .smoothscroll[href*="#"]').on('click',function (e) {
			    var target = this.hash;
			    var $target = $(target);

				if ( $target.length ) {
			    	e.preventDefault();
					$('html, body').stop().animate({
					     'scrollTop': $target.offset().top - 70
					}, 900, 'swing');
			        
			        if($('#mainnav-mobi').length) $('#mainnav-mobi').hide();
			        return false;
				}
			});
		});


	};

	var responsiveMenu = function() {
		var	menuType = 'desktop';

		$(window).on('load resize', function() {
			var currMenuType = 'desktop';

			if ( matchMedia( 'only screen and (max-width: 1024px)' ).matches ) {
				currMenuType = 'mobile';
			}

			if ( currMenuType !== menuType ) {
				menuType = currMenuType;

				if ( currMenuType === 'mobile' ) {
					var $mobileMenu = $('#mainnav').attr('id', 'mainnav-mobi').hide();
					var hasChildMenu = $('#mainnav-mobi').find('li:has(ul)');

					$('#header').find('.header-wrap').after($mobileMenu);
					hasChildMenu.children('ul').hide();
					hasChildMenu.children('a').after('<span class="btn-submenu"></span>');
					$('.btn-menu').removeClass('active');
				} else {
					var $desktopMenu = $('#mainnav-mobi').attr('id', 'mainnav').removeAttr('style');

					$desktopMenu.find('.submenu').removeAttr('style');
					$('#header').find('.col-md-10').append($desktopMenu);
					$('.btn-submenu').remove();
				}
			}
		});

		$('.btn-menu').on('click', function() {
			$('#mainnav-mobi').slideToggle(300);
			$(this).toggleClass('active');
		});

		$(document).on('click', '#mainnav-mobi li .btn-submenu', function(e) {
			$(this).toggleClass('active').next('ul').slideToggle(300);
			e.stopImmediatePropagation()
		});
	}

	var panelsStyling = function() {
		$(".panel-row-style").each( function() {
			if ($(this).data('hascolor')) {
				$(this).find('h1,h2,h3,h4,h5,h6,a,.fa, div, span').css('color','inherit');
			}
			if ($(this).data('hasbg') && $(this).data('overlay') ) {
				$(this).append( '<div class="overlay"></div>' );
				var overlayColor = $(this).data('overlay-color');
				$(this).find('.overlay').css('background-color', overlayColor );				
			}
		});
		$('.panel-grid .panel-widget-style').each( function() {
			var titleColor = $(this).data('title-color');
			var headingsColor = $(this).data('headings-color');
			if ( titleColor ) {
				$(this).find('.widget-title').css('color', titleColor );
			}
			if ( headingsColor ) {
				$(this).find('h1,h2,h3:not(.widget-title),h4,h5,h6,h3 a').css('color', headingsColor );
			}			
		});	
	};

	var scrolls = function() {
		testMobile = isMobile.any();
		if (testMobile == null) {
			$(".panel-row-style, .slide-item").parallax("50%", 0.3);
		}
	};

	var checkipad = function() {
		testiPad = isiPad.any();
		if (testiPad != null) {
			$(".slides-container .slide-item").css("background-attachment", "scroll");
		}
	};

	var rollAnimation = function() {
		$('.orches-animation').each( function() {
		var orElement = $(this),
			orAnimationClass = orElement.data('animation'),
			orAnimationDelay = orElement.data('animation-delay'),
			orAnimationOffset = orElement.data('animation-offset');

			orElement.css({
				'-webkit-animation-delay':  orAnimationDelay,
				'-moz-animation-delay':     orAnimationDelay,
				'animation-delay':          orAnimationDelay
			});

			orElement.waypoint(function() {
				orElement.addClass('animated').addClass(orAnimationClass);
			},{ triggerOnce: true, offset: orAnimationOffset });
		});
	};

	var goTop = function() {
		$(window).scroll(function() {
			if ( $(this).scrollTop() > 800 ) {
				$('.go-top').addClass('show');
			} else {
				$('.go-top').removeClass('show');
			}
		});

		$('.go-top').on('click', function() {
			$("html, body").animate({ scrollTop: 0 }, 1000);
			return false;
		});
	};

	var testimonialCarousel = function(){
		if ( $().owlCarousel ) {
			$('.roll-testimonials').owlCarousel({
				navigation : false,
				pagination: true,
				responsive: true,
				items: 1,
				itemsDesktop: [3000,1],
				itemsDesktopSmall: [1400,1],
				itemsTablet:[970,1],
				itemsTabletSmall: [600,1],
				itemsMobile: [360,1],
				touchDrag: true,
				mouseDrag: true,
				autoHeight: true,
				autoPlay: $('.roll-testimonials').data('autoplay')
			});
		}
	};

	var progressBar = function() {
		$('.progress-bar').on('on-appear', function() {
			$(this).each(function() {
				var percent = $(this).data('percent');

				$(this).find('.progress-animate').animate({
					"width": percent + '%'
				},3000);

				$(this).parent('.roll-progress').find('.perc').addClass('show').animate({
					"width": percent + '%'
				},3000);
			});
		});
	};

 	var headerFixed = function() {
			var headerFix = $('.site-header').offset().top;
			$(window).on('load scroll', function() {
				var y = $(this).scrollTop();
				if ( y >= headerFix) {
					$('.site-header').addClass('fixed');
					$('body').addClass('siteScrolled');
				} else {
					$('.site-header').removeClass('fixed');
					$('body').removeClass('siteScrolled');
				}
				if ( y >= 107 ) {
					$('.site-header').addClass('float-header');
				} else {
					$('.site-header').removeClass('float-header');
				}
			});
	};

	var counter = function() {
		$('.roll-counter').on('on-appear', function() {
			$(this).find('.numb-count').each(function() {
				var to = parseInt($(this).attr('data-to')), speed = parseInt($(this).attr('data-speed'));
				$(this).countTo({
					to: to,
					speed: speed
				});
			});
		}); //counter
	};

	var detectViewport = function() {
		$('[data-waypoint-active="yes"]').waypoint(function() {
			$(this).trigger('on-appear');
		}, { offset: '90%', triggerOnce: true });

		$(window).on('load', function() {
			setTimeout(function() {
				$.waypoints('refresh');
			}, 100);
		});
	};

	var teamCarousel = function(){
		if ( $().owlCarousel ) {
			$(".roll-team:not(.roll-team.no-carousel)").owlCarousel({
				navigation : false,
				pagination: true,
				responsive: true,
				items: 4,
				itemsDesktopSmall: [1400,4],
				itemsTablet:[970,2],
				itemsTabletSmall: [600,1],
				itemsMobile: [360,1],
				touchDrag: true,
				mouseDrag: true,
				autoHeight: false,
				autoPlay: false,
			}); // end owlCarousel
		} // end if
	};

    var responsiveVideo= function(){
	  $(document).ready(function(){
	    $("body").fitVids();
	  });
    };

	var projectEffect = function() {
		var effect = $('.project-wrap').data('portfolio-effect');

		$('.project-item').children('.item-wrap').addClass('orches-animation');

		$('.project-wrap').waypoint(function(direction) {
			$('.project-item').children('.item-wrap').each(function(idx, ele) {
				setTimeout(function() {
					$(ele).addClass('animated ' + effect);
				}, idx * 150);
			});
		}, { offset: '75%' });
	};

	var socialMenu = function() {
	    $('.widget_fp_social a').attr( 'target','_blank' );
	};

  	var removePreloader = function() {
    	$('.preloader').css('opacity', 0);
    	setTimeout(function(){$('.preloader').hide();}, 600);
  	}

  	var removeSliderTransition = function() {
  		$('#slideshow').css('transition', 'height 99999s');
		$( window ).on( "orientationchange", function( event ) {
  			$('#slideshow').css('transition', 'none');
    		setTimeout(function(){
 				$('#slideshow').css('transition', 'height 99999s');
			}, 600);			
		});  	
  	}

    var videoButtons = function() {
    	testMobile = isMobile.iOS();
		$(window).on('load', function () {
			$('#wp-custom-header').fitVids();
			$('.fluid-width-video-wrapper + #wp-custom-header-video-button').find('i').removeClass('fa-play').addClass('fa-pause');
			$('.fluid-width-video-wrapper + #wp-custom-header-video-button').on('click',function () {
				$(this).find('i').toggleClass('fa-play fa-pause');
			});
			if (testMobile != null) {
				$('#wp-custom-header-video-button').css('opacity', '0');
				$('#wp-custom-header-video').prop('controls',true); 
			}	
		});
    }

	var headerClone = function() { 
	    var headerHeight = $('.site-header').outerHeight();
	    $('.header-clone').css('height',headerHeight);

		$(window).resize(function(){	
			var headerHeight = $('.site-header').outerHeight();
			$('.header-clone').css('height',headerHeight);
		});		
	} 

  var portfolioIsotope = function(){

    if ( $('.project-wrap').length ) {

      $('.project-wrap').each(function() {

        var self       = $(this);
        var filterNav  = self.find('.project-filter').find('a');

        var projectIsotope = function($selector){

          $selector.isotope({
            filter: '*',
            itemSelector: '.project-item',
            percentPosition: true,
            animationOptions: {
                duration: 750,
                easing: 'liniar',
                queue: false,
            }
          });

        }

        self.children().find('.isotope-container').imagesLoaded( function() {
          projectIsotope(self.children().find('.isotope-container'));
        });

        $(window).load(function(){
          projectIsotope(self.children().find('.isotope-container'));
        });

        filterNav.click(function(){
            var selector = $(this).attr('data-filter');
            filterNav.removeClass('active');
            $(this).addClass('active');

            self.find('.isotope-container').isotope({
                filter: selector,
                animationOptions: {
                    duration: 750,
                    easing: 'liniar',
                    queue: false,
                }
            });

            return false;

        });

      });

    }

  }

	// Dom Ready
	$(function() {
		sliderFix();
		heroSection();
		headerFixed();
		testimonialCarousel();
		teamCarousel();
		counter();
		progressBar();
		detectViewport();
		responsiveMenu();
		responsiveVideo();
		rollAnimation();
		checkipad();
		panelsStyling();
		scrolls();
		projectEffect();
		socialMenu();
		goTop();
    	portfolioIsotope();
    	removeSliderTransition();
    	videoButtons();
    	headerClone();
		removePreloader();
   	});
})(jQuery);
